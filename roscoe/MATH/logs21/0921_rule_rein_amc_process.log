[2025-09-24 02:47:12] 开始处理：0921_rule_rein_amc（日志：/root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/logs21/0921_rule_rein_amc_process.log）
[2025-09-24 02:47:12] 0921_rule_rein_amc：开始清洗
输出文件夹: /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rule_rein_amc
读取输入文件: /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/raw21/0921_rule_rein_amc//raw.json
写入JSONL文件/root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rule_rein_amc/aime24.jsonl
已生成 /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rule_rein_amc/aime24.jsonl，包含 30 条记录
写入JSONL文件/root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rule_rein_amc/math500.jsonl
已生成 /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rule_rein_amc/math500.jsonl，包含 500 条记录
写入JSONL文件/root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rule_rein_amc/amc23.jsonl
已生成 /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rule_rein_amc/amc23.jsonl，包含 40 条记录
处理完成
[2025-09-24 02:47:12] 0921_rule_rein_amc：开始打分（数据集：aime24）
/root/autodl-tmp/roscoe/ParlAI/parlai/core/opt.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
09/24/2025 02:47:16 - INFO - sentence_transformers.SentenceTransformer -   Use pytorch device_name: cuda:0
09/24/2025 02:47:16 - INFO - sentence_transformers.SentenceTransformer -   Load pretrained SentenceTransformer: all-mpnet-base-v2
Some weights of MPNetModel were not initialized from the model checkpoint at microsoft/mpnet-base and are newly initialized: ['pooler.dense.bias', 'pooler.dense.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
Evaluating /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rule_rein_amc/aime24.jsonl
Batches:   0%|          | 0/55 [00:00<?, ?it/s]Batches:   2%|▏         | 1/55 [00:00<00:17,  3.12it/s]Batches:   5%|▌         | 3/55 [00:00<00:06,  7.72it/s]Batches:  11%|█         | 6/55 [00:00<00:03, 12.92it/s]Batches:  16%|█▋        | 9/55 [00:00<00:02, 17.31it/s]Batches:  24%|██▎       | 13/55 [00:00<00:01, 22.60it/s]Batches:  31%|███       | 17/55 [00:00<00:01, 27.16it/s]Batches:  40%|████      | 22/55 [00:01<00:00, 33.56it/s]Batches:  55%|█████▍    | 30/55 [00:01<00:00, 44.62it/s]Batches:  64%|██████▎   | 35/55 [00:01<00:00, 45.17it/s]Batches:  82%|████████▏ | 45/55 [00:01<00:00, 59.34it/s]Batches: 100%|██████████| 55/55 [00:01<00:00, 69.01it/s]Batches: 100%|██████████| 55/55 [00:01<00:00, 38.01it/s]
Batches:   0%|          | 0/3 [00:00<?, ?it/s]Batches:  33%|███▎      | 1/3 [00:00<00:00,  7.11it/s]Batches: 100%|██████████| 3/3 [00:00<00:00, 14.92it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  5.35it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  5.35it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  5.94it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  5.94it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 95.16it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 112.24it/s]
Scoring chains ... :   0%|          | 0/30 [00:00<?, ?it/s]We strongly recommend passing in an `attention_mask` since your input_ids may be padded. See https://huggingface.co/docs/transformers/troubleshooting#incorrect-output-when-padding-tokens-arent-masked.
`loss_type=None` was set in the config but it is unrecognized. Using the default loss: `ForCausalLMLoss`.
Scoring chains ... :   3%|▎         | 1/30 [03:09<1:31:34, 189.45s/it]Scoring chains ... :   7%|▋         | 2/30 [03:16<38:21, 82.21s/it]   Scoring chains ... :  10%|█         | 3/30 [03:27<22:26, 49.86s/it]Token indices sequence length is longer than the specified maximum sequence length for this model (1243 > 1024). Running this sequence through the model will result in indexing errors
Scoring chains ... :  13%|█▎        | 4/30 [04:24<22:47, 52.60s/it]Scoring chains ... :  17%|█▋        | 5/30 [04:31<15:01, 36.06s/it]Scoring chains ... :  20%|██        | 6/30 [06:24<24:52, 62.17s/it]Scoring chains ... :  23%|██▎       | 7/30 [08:28<31:36, 82.45s/it]Scoring chains ... :  27%|██▋       | 8/30 [08:45<22:34, 61.55s/it]Scoring chains ... :  30%|███       | 9/30 [08:52<15:36, 44.59s/it]Scoring chains ... :  33%|███▎      | 10/30 [09:39<15:06, 45.30s/it]Scoring chains ... :  37%|███▋      | 11/30 [10:54<17:15, 54.52s/it]Scoring chains ... :  40%|████      | 12/30 [10:59<11:45, 39.21s/it]Scoring chains ... :  43%|████▎     | 13/30 [11:17<09:18, 32.86s/it]Scoring chains ... :  47%|████▋     | 14/30 [11:30<07:10, 26.90s/it]Scoring chains ... :  50%|█████     | 15/30 [11:41<05:30, 22.00s/it]Scoring chains ... :  53%|█████▎    | 16/30 [15:53<21:17, 91.26s/it]Scoring chains ... :  57%|█████▋    | 17/30 [20:49<33:07, 152.89s/it]Scoring chains ... :  60%|██████    | 18/30 [21:36<24:12, 121.07s/it]Scoring chains ... :  63%|██████▎   | 19/30 [21:57<16:40, 90.96s/it] Scoring chains ... :  67%|██████▋   | 20/30 [23:04<13:57, 83.78s/it]Scoring chains ... :  70%|███████   | 21/30 [1:33:07<3:18:01, 1320.15s/it]Scoring chains ... :  73%|███████▎  | 22/30 [1:33:11<2:03:21, 925.24s/it] Scoring chains ... :  77%|███████▋  | 23/30 [1:35:19<1:20:01, 685.97s/it]Scoring chains ... :  80%|████████  | 24/30 [1:35:50<48:57, 489.57s/it]  Scoring chains ... :  83%|████████▎ | 25/30 [1:37:34<31:08, 373.76s/it]Scoring chains ... :  87%|████████▋ | 26/30 [1:37:47<17:42, 265.67s/it]Scoring chains ... :  90%|█████████ | 27/30 [1:37:56<09:25, 188.62s/it]Scoring chains ... :  93%|█████████▎| 28/30 [1:40:46<06:06, 183.00s/it]Scoring chains ... :  97%|█████████▋| 29/30 [1:41:03<02:13, 133.29s/it]Scoring chains ... : 100%|██████████| 30/30 [1:44:18<00:00, 151.69s/it]Scoring chains ... : 100%|██████████| 30/30 [1:44:18<00:00, 208.61s/it]
Scores written to /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/output21/0921_rule_rein_amc/all-mpnet-base-v2/scores_aime24.tsv
Max GPU Memory Allocated: 439 MB
math500.jsonl
['aime24']
Skipping due to --datasets filter: math500.jsonl
amc23.jsonl
['aime24']
Skipping due to --datasets filter: amc23.jsonl
[2025-09-24 04:31:50] 0921_rule_rein_amc：打分完成
