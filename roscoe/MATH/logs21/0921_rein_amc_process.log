[2025-09-24 01:13:56] 开始处理：0921_rein_amc（日志：/root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/logs21/0921_rein_amc_process.log）
[2025-09-24 01:13:56] 0921_rein_amc：开始清洗
输出文件夹: /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rein_amc
读取输入文件: /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/raw21/0921_rein_amc//raw.json
写入JSONL文件/root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rein_amc/aime24.jsonl
已生成 /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rein_amc/aime24.jsonl，包含 30 条记录
写入JSONL文件/root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rein_amc/math500.jsonl
已生成 /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rein_amc/math500.jsonl，包含 500 条记录
写入JSONL文件/root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rein_amc/amc23.jsonl
已生成 /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rein_amc/amc23.jsonl，包含 40 条记录
处理完成
[2025-09-24 01:13:56] 0921_rein_amc：开始打分（数据集：aime24）
/root/autodl-tmp/roscoe/ParlAI/parlai/core/opt.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
09/24/2025 01:14:00 - INFO - sentence_transformers.SentenceTransformer -   Use pytorch device_name: cuda:0
09/24/2025 01:14:00 - INFO - sentence_transformers.SentenceTransformer -   Load pretrained SentenceTransformer: all-mpnet-base-v2
Some weights of MPNetModel were not initialized from the model checkpoint at microsoft/mpnet-base and are newly initialized: ['pooler.dense.bias', 'pooler.dense.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
Evaluating /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/clean21/0921_rein_amc/aime24.jsonl
Batches:   0%|          | 0/49 [00:00<?, ?it/s]Batches:   2%|▏         | 1/49 [00:00<00:16,  2.91it/s]Batches:   6%|▌         | 3/49 [00:00<00:06,  7.27it/s]Batches:  12%|█▏        | 6/49 [00:00<00:03, 12.84it/s]Batches:  20%|██        | 10/49 [00:00<00:02, 18.84it/s]Batches:  29%|██▊       | 14/49 [00:00<00:01, 23.73it/s]Batches:  39%|███▉      | 19/49 [00:00<00:01, 29.98it/s]Batches:  49%|████▉     | 24/49 [00:01<00:00, 35.20it/s]Batches:  63%|██████▎   | 31/49 [00:01<00:00, 44.30it/s]Batches:  73%|███████▎  | 36/49 [00:01<00:00, 42.30it/s]Batches:  96%|█████████▌| 47/49 [00:01<00:00, 59.59it/s]Batches: 100%|██████████| 49/49 [00:01<00:00, 34.84it/s]
Batches:   0%|          | 0/3 [00:00<?, ?it/s]Batches:  33%|███▎      | 1/3 [00:00<00:00,  7.40it/s]Batches: 100%|██████████| 3/3 [00:00<00:00, 15.84it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  5.45it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  5.44it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  6.16it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  6.15it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 87.78it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 95.62it/s]
Scoring chains ... :   0%|          | 0/30 [00:00<?, ?it/s]We strongly recommend passing in an `attention_mask` since your input_ids may be padded. See https://huggingface.co/docs/transformers/troubleshooting#incorrect-output-when-padding-tokens-arent-masked.
`loss_type=None` was set in the config but it is unrecognized. Using the default loss: `ForCausalLMLoss`.
Scoring chains ... :   3%|▎         | 1/30 [02:32<1:13:54, 152.92s/it]Scoring chains ... :   7%|▋         | 2/30 [03:10<39:44, 85.16s/it]   Scoring chains ... :  10%|█         | 3/30 [03:21<23:08, 51.43s/it]Token indices sequence length is longer than the specified maximum sequence length for this model (1524 > 1024). Running this sequence through the model will result in indexing errors
Scoring chains ... :  13%|█▎        | 4/30 [03:50<18:21, 42.37s/it]Scoring chains ... :  17%|█▋        | 5/30 [12:13<1:26:48, 208.35s/it]Scoring chains ... :  20%|██        | 6/30 [13:30<1:05:29, 163.73s/it]Scoring chains ... :  23%|██▎       | 7/30 [13:47<44:23, 115.82s/it]  Scoring chains ... :  27%|██▋       | 8/30 [14:35<34:32, 94.19s/it] Scoring chains ... :  30%|███       | 9/30 [15:27<28:20, 80.99s/it]Scoring chains ... :  33%|███▎      | 10/30 [16:45<26:40, 80.04s/it]Scoring chains ... :  37%|███▋      | 11/30 [18:03<25:09, 79.47s/it]Scoring chains ... :  40%|████      | 12/30 [18:06<16:54, 56.38s/it]Scoring chains ... :  43%|████▎     | 13/30 [18:40<14:00, 49.42s/it]Scoring chains ... :  47%|████▋     | 14/30 [18:54<10:22, 38.91s/it]Scoring chains ... :  50%|█████     | 15/30 [19:49<10:53, 43.60s/it]Scoring chains ... :  53%|█████▎    | 16/30 [22:08<16:53, 72.36s/it]Scoring chains ... :  57%|█████▋    | 17/30 [24:00<18:16, 84.35s/it]Scoring chains ... :  60%|██████    | 18/30 [25:34<17:26, 87.17s/it]Scoring chains ... :  63%|██████▎   | 19/30 [27:12<16:35, 90.50s/it]Scoring chains ... :  67%|██████▋   | 20/30 [27:25<11:10, 67.06s/it]Scoring chains ... :  70%|███████   | 21/30 [31:27<17:55, 119.56s/it]Scoring chains ... :  73%|███████▎  | 22/30 [31:29<11:15, 84.43s/it] Scoring chains ... :  77%|███████▋  | 23/30 [33:26<10:59, 94.23s/it]Scoring chains ... :  80%|████████  | 24/30 [34:30<08:29, 84.96s/it]Scoring chains ... :  83%|████████▎ | 25/30 [38:31<10:59, 131.92s/it]Scoring chains ... :  87%|████████▋ | 26/30 [39:11<06:57, 104.37s/it]Scoring chains ... :  90%|█████████ | 27/30 [39:53<04:16, 85.65s/it] Scoring chains ... :  93%|█████████▎| 28/30 [43:24<04:06, 123.15s/it]Scoring chains ... :  97%|█████████▋| 29/30 [45:14<01:59, 119.24s/it]Scoring chains ... : 100%|██████████| 30/30 [46:02<00:00, 97.77s/it] Scoring chains ... : 100%|██████████| 30/30 [46:02<00:00, 92.07s/it]
Scores written to /root/autodl-tmp/roscoe/ParlAI/projects/roscoe/MATH/output21/0921_rein_amc/all-mpnet-base-v2/scores_aime24.tsv
Max GPU Memory Allocated: 439 MB
math500.jsonl
['aime24']
Skipping due to --datasets filter: math500.jsonl
amc23.jsonl
['aime24']
Skipping due to --datasets filter: amc23.jsonl
[2025-09-24 02:00:20] 0921_rein_amc：打分完成
